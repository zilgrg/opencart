<modification><id><![CDATA[Paladin SEO Manager]]></id><version>3.1.0</version><vqmver>1.0.0</vqmver><author><![CDATA[ ROMAN TYMKIV http://smartshopbox.com ]]></author>			<file name="admin/model/catalog/product.php">		<operation error="skip"> 			<search position="after"><![CDATA[ $this->cache->delete('product'); ]]></search>			<add><![CDATA[								require_once DIR_CONFIG .'ssb_library/ssb_data.php';				$this->ssb_data = ssb_data::getInstance();				$ssb_setting = $this->ssb_data->getSetting();				if(isset($data['seodata']) AND is_array($data['seodata']) AND $ssb_setting){					$this->cache->set('test_id_2===' . $product_id, $data['seodata']);					$this->model_catalog_product->setDescripProduct($product_id, $data['seodata']);					include_once DIR_CONFIG .'ssb_library/ssb_autogen.php';					$ssb_autogen = ssb_autogen::getInstance();					$ssb_autogen->genAutoSeo('product', $product_id);				}							]]></add>		</operation>			</file>	<file name="admin/model/catalog/category.php">		<operation error="skip"> 			<search position="after"><![CDATA[ $this->cache->delete('category'); ]]></search>			<add><![CDATA[								require_once DIR_CONFIG .'ssb_library/ssb_data.php';				$this->ssb_data = ssb_data::getInstance();				$ssb_setting = $this->ssb_data->getSetting();				if(isset($data['seodata']) AND is_array($data['seodata']) AND $ssb_setting){					$this->model_catalog_category->setDescripCategory($category_id, $data['seodata']);					include_once DIR_CONFIG .'ssb_library/ssb_autogen.php';					$ssb_autogen = ssb_autogen::getInstance();					$ssb_autogen->genAutoSeo('category', $category_id);				}							]]></add>		</operation>			</file>	<file name="admin/model/catalog/manufacturer.php">		<operation  error="skip"> 			<search position="after"><![CDATA[ $this->cache->delete('manufacturer'); ]]></search>			<add><![CDATA[								require_once DIR_CONFIG .'ssb_library/ssb_data.php';				$this->ssb_data = ssb_data::getInstance();				$ssb_setting = $this->ssb_data->getSetting();				if(isset($data['seodata']) AND is_array($data['seodata']) AND $ssb_setting){					$this->model_catalog_manufacturer->setDescripManufacturer($manufacturer_id, $data['seodata']);					include_once DIR_CONFIG .'ssb_library/ssb_autogen.php';					$ssb_autogen = ssb_autogen::getInstance();					$ssb_autogen->genAutoSeo('brand', $manufacturer_id);				} 							]]></add>		</operation>			<operation error="skip"> 			<search position="after"><![CDATA[ public function deleteManufacturer($manufacturer_id) ]]></search>			<add><![CDATA[									require_once DIR_CONFIG .'ssb_library/ssb_data.php';					$this->ssb_data = ssb_data::getInstance();					$ssb_setting = $this->ssb_data->getSetting();					if($ssb_setting){						$this->delDescripManufacturer($manufacturer_id);					}							]]></add>		</operation>	</file>	<file name="admin/model/catalog/information.php">		<operation> 			<search position="after"><![CDATA[ $this->cache->delete('information'); ]]></search>			<add><![CDATA[								require_once DIR_CONFIG .'ssb_library/ssb_data.php';				$this->ssb_data = ssb_data::getInstance();				$ssb_setting = $this->ssb_data->getSetting();				if(isset($data['seodata']) AND is_array($data['seodata']) AND $ssb_setting){					$this->model_catalog_information->setDescripInfo($information_id, $data['seodata']);					include_once DIR_CONFIG .'ssb_library/ssb_autogen.php';					$ssb_autogen = ssb_autogen::getInstance();					$ssb_autogen->genAutoSeo('info', $information_id);				} 							]]></add>		</operation>			</file>			<file name="admin/controller/catalog/manufacturer.php">		<operation>			<search position="after"><![CDATA[$this->data['token'] = $this->session->data['token'];]]></search>			<add><![CDATA[			require_once DIR_CONFIG .'ssb_library/ssb_data.php';			$this->ssb_data = ssb_data::getInstance();			$ssb_setting = $this->ssb_data->getSetting();			if($ssb_setting){				$this->load->model('localisation/language');						$this->data['languages'] = $this->model_localisation_language->getLanguages();				if (isset($this->request->post['seodata'])) {					$this->data['seodata'] = $this->request->post['seodata'];				} elseif (isset($this->request->get['manufacturer_id'])) {					$this->data['seodata'] = $this->model_catalog_manufacturer->getDescripManufacturer($this->request->get['manufacturer_id']);				}			}			]]></add>		</operation>	</file>	<file name="admin/view/template/catalog/manufacturer_form.tpl">		<operation>			<search position="replace"><![CDATA[<a href="#tab-general"><?php echo $tab_general; ?></a>]]></search>			<add><![CDATA[<a href="#tab-general"><?php echo $tab_general; ?></a><a href="#tab-data">Data</a>]]></add>		</operation>				<operation>			<search position="after"><![CDATA[$('#tabs a').tabs();]]></search>			<add><![CDATA[$('#languages a').tabs();]]></add>		</operation>				<operation>			<search position="before"><![CDATA[<?php echo $footer; ?>]]></search>			<add><![CDATA[			<script type="text/javascript" src="view/javascript/ckeditor/ckeditor.js"></script> 			<script type="text/javascript"><!--			<?php foreach ($languages as $language) { ?>			CKEDITOR.replace('description<?php echo $language['language_id']; ?>', {				filebrowserBrowseUrl: 'index.php?route=common/filemanager&token=<?php echo $token; ?>',				filebrowserImageBrowseUrl: 'index.php?route=common/filemanager&token=<?php echo $token; ?>',				filebrowserFlashBrowseUrl: 'index.php?route=common/filemanager&token=<?php echo $token; ?>',				filebrowserUploadUrl: 'index.php?route=common/filemanager&token=<?php echo $token; ?>',				filebrowserImageUploadUrl: 'index.php?route=common/filemanager&token=<?php echo $token; ?>',				filebrowserFlashUploadUrl: 'index.php?route=common/filemanager&token=<?php echo $token; ?>'			});			<?php } ?>			//--></script>			]]></add>		</operation>			<operation>			<search position="before"><![CDATA[</form>]]></search>			<add><![CDATA[			<div id="tab-data">				<div id="languages" class="htabs">					<?php foreach ($languages as $language) { ?>					<a href="#language<?php echo $language['language_id']; ?>"><img src="view/image/flags/<?php echo $language['image']; ?>" title="<?php echo $language['name']; ?>" /> <?php echo $language['name']; ?></a>					<?php } ?>				</div>							<?php foreach ($languages as $language) { ?>				<div id="language<?php echo $language['language_id']; ?>">					<table class="form">					<tr>						<td>Seo Title:</td>						<td>							<input type="text" name="seodata[<?php echo $language['language_id']; ?>][seo_title]" size="100" value="<?php echo isset($seodata[$language['language_id']]['seo_title']) ? $seodata[$language['language_id']]['seo_title'] : ''; ?>" />						</td>					</tr>					<tr>						<td>Seo H1:</td>						<td>							<input type="text" name="seodata[<?php echo $language['language_id']; ?>][seo_h1]" size="100" value="<?php echo isset($seodata[$language['language_id']]['seo_h1']) ? $seodata[$language['language_id']]['seo_h1'] : ''; ?>" />						</td>					</tr>					<tr>						<td>Meta Keywords:</td>						<td>							<input name="seodata[<?php echo $language['language_id']; ?>][meta_keyword]" size="100" value="<?php echo isset($seodata[$language['language_id']]['meta_keyword']) ? $seodata[$language['language_id']]['meta_keyword'] : ''; ?>"/>						</td>					</tr>					<tr>						<td>Meta Description:</td>						<td>							<input name="seodata[<?php echo $language['language_id']; ?>][meta_description]" size="100" value="<?php echo isset($seodata[$language['language_id']]['meta_description']) ? $seodata[$language['language_id']]['meta_description'] : ''; ?>"/>						</td>					</tr>					<tr>						<td>Description:</td>						<td>							<textarea id="description<?php echo $language['language_id']; ?>" name="seodata[<?php echo $language['language_id']; ?>][description]" cols="40" rows="5"><?php echo isset($seodata[$language['language_id']]['description']) ? $seodata[$language['language_id']]['description'] : ''; ?></textarea>						</td>					</tr>					<tr>						<td>Tags:</td>						<td>							<input name="seodata[<?php echo $language['language_id']; ?>][tag]" size="100" value="<?php echo isset($seodata[$language['language_id']]['tag']) ? $seodata[$language['language_id']]['tag'] : ''; ?>"/>						</td>					</tr>					</table>				</div>				<?php } ?>			</div>			]]></add>		</operation>				<operation>			<search position="replace"><![CDATA[ value="<?php echo $keyword; ?>" /> ]]></search>			<add><![CDATA[			value="<?php echo $keyword; ?>" /> 			If you have a few language, to view the all keywords for all language, you can go to "Edit SEO Items" in SEO module.			]]></add>		</operation>	</file>	<file name="admin/controller/catalog/information.php">		<operation>			<search position="after"><![CDATA[$this->data['token'] = $this->session->data['token'];]]></search>			<add><![CDATA[			require_once DIR_CONFIG .'ssb_library/ssb_data.php';			$this->ssb_data = ssb_data::getInstance();			$ssb_setting = $this->ssb_data->getSetting();			if($ssb_setting){				$this->load->model('localisation/language');						$this->data['languages'] = $this->model_localisation_language->getLanguages();								if (isset($this->request->post['seodata'])) {					$this->data['seodata'] = $this->request->post['seodata'];				} elseif (isset($this->request->get['information_id'])) {					$this->data['seodata'] = $this->model_catalog_information->getDescripInfo($this->request->get['information_id']);				}			}			]]></add>		</operation>	</file>	<file name="admin/view/template/catalog/information_form.tpl">		<operation>			<search index="1" position="before"><![CDATA[</table>]]></search>			<add><![CDATA[			<tr>				<td>Seo Title:</td>				<td>					<input type="text" name="seodata[<?php echo $language['language_id']; ?>][seo_title]" size="100" value="<?php echo isset($seodata[$language['language_id']]['seo_title']) ? $seodata[$language['language_id']]['seo_title'] : ''; ?>" />				</td>			</tr>				<tr>				<td>Meta Keywords:</td>				<td>					<input name="seodata[<?php echo $language['language_id']; ?>][meta_keyword]" size="100" value="<?php echo isset($seodata[$language['language_id']]['meta_keyword']) ? $seodata[$language['language_id']]['meta_keyword'] : ''; ?>"/>				</td>			</tr>			<tr>				<td>Meta Description:</td>				<td>					<input name="seodata[<?php echo $language['language_id']; ?>][meta_description]" size="100" value="<?php echo isset($seodata[$language['language_id']]['meta_description']) ? $seodata[$language['language_id']]['meta_description'] : ''; ?>"/>				</td>			</tr>			<tr>				<td>Tags:</td>				<td>					<input name="seodata[<?php echo $language['language_id']; ?>][tag]" size="100" value="<?php echo isset($seodata[$language['language_id']]['tag']) ? $seodata[$language['language_id']]['tag'] : ''; ?>"/>				</td>			</tr>			]]></add>		</operation>		<operation>			<search position="replace"><![CDATA[ value="<?php echo $keyword; ?>" /> ]]></search>			<add><![CDATA[			value="<?php echo $keyword; ?>" /> 			If you have a few language, to view the all keywords for all language, you can go to "Edit SEO Items" in SEO module.			]]></add>		</operation>		</file>	<file name="admin/controller/catalog/category.php">		<operation>			<search position="after"><![CDATA[$this->data['token'] = $this->session->data['token'];]]></search>			<add><![CDATA[			require_once DIR_CONFIG .'ssb_library/ssb_data.php';			$this->ssb_data = ssb_data::getInstance();			$ssb_setting = $this->ssb_data->getSetting();			if($ssb_setting){							$this->load->model('localisation/language');						$this->data['languages'] = $this->model_localisation_language->getLanguages();				if (isset($this->request->post['seodata'])) {					$this->data['seodata'] = $this->request->post['seodata'];				} elseif (isset($this->request->get['category_id'])) {					$this->data['seodata'] = $this->model_catalog_category->getDescripCategory($this->request->get['category_id']);				}			}			]]></add>		</operation>	</file>	<file name="admin/view/template/catalog/category_form.tpl">		<operation>			<search index="1" position="before"><![CDATA[</table>]]></search>			<add><![CDATA[			<tr>				<td>Seo Title:</td>				<td>					<input type="text" name="seodata[<?php echo $language['language_id']; ?>][seo_title]" size="100" value="<?php echo isset($seodata[$language['language_id']]['seo_title']) ? $seodata[$language['language_id']]['seo_title'] : ''; ?>" />				</td>			</tr>			<tr>				<td>Seo H1:</td>				<td>					<input type="text" name="seodata[<?php echo $language['language_id']; ?>][seo_h1]" size="100" value="<?php echo isset($seodata[$language['language_id']]['seo_h1']) ? $seodata[$language['language_id']]['seo_h1'] : ''; ?>" />				</td>			</tr>			<tr>				<td>Tags:</td>				<td>					<input name="seodata[<?php echo $language['language_id']; ?>][tag]" size="100" value="<?php echo isset($seodata[$language['language_id']]['tag']) ? $seodata[$language['language_id']]['tag'] : ''; ?>"/>				</td>			</tr>			]]></add>		</operation>		<operation>			<search position="replace"><![CDATA[ value="<?php echo $keyword; ?>" /> ]]></search>			<add><![CDATA[			value="<?php echo $keyword; ?>" /> 			If you have a few language, to view the all keywords for all language, you can go to "Edit SEO Items" in SEO module.			]]></add>		</operation>		</file>	<file name="admin/controller/catalog/product.php">		<operation>			<search position="after"><![CDATA[$this->data['token'] = $this->session->data['token'];]]></search>			<add><![CDATA[			require_once DIR_CONFIG .'ssb_library/ssb_data.php';			$this->ssb_data = ssb_data::getInstance();			$ssb_setting = $this->ssb_data->getSetting();			if($ssb_setting){							$this->load->model('localisation/language');						$this->data['languages'] = $this->model_localisation_language->getLanguages();				if (isset($this->request->post['seodata'])) {					$this->data['seodata'] = $this->request->post['seodata'];				} elseif (isset($this->request->get['product_id'])) {					$this->data['seodata'] = $this->model_catalog_product->getDescripProduct($this->request->get['product_id']);				}			}			]]></add>		</operation>	</file>	<file name="admin/view/template/catalog/product_form.tpl">			<operation>			<search index="1" position="before"><![CDATA[</table>]]></search>			<add><![CDATA[			<tr>				<td>Seo Title:</td>				<td>					<input type="text" name="seodata[<?php echo $language['language_id']; ?>][seo_title]" size="100" value="<?php echo isset($seodata[$language['language_id']]['seo_title']) ? $seodata[$language['language_id']]['seo_title'] : ''; ?>" />				</td>			</tr>			<tr>				<td>Seo H1:</td>				<td>					<input type="text" name="seodata[<?php echo $language['language_id']; ?>][seo_h1]" size="100" value="<?php echo isset($seodata[$language['language_id']]['seo_h1']) ? $seodata[$language['language_id']]['seo_h1'] : ''; ?>" />				</td>			</tr>			]]></add>		</operation>		<operation>			<search position="replace"><![CDATA[ value="<?php echo $keyword; ?>" /> ]]></search>			<add><![CDATA[			value="<?php echo $keyword; ?>" /> 			If you have a few language, to view the all keywords for all language, you can go to "Edit SEO Items" in SEO module.			]]></add>		</operation>		</file>	<!--CLEAR cache SSB if we changing PCBI 		UPDATE tables if Paladin existence, but not installing -->		<file name="system/engine/front.php">		<operation  error = "skip">			<search position="after" ><![CDATA[ 	private function execute($action) { ]]></search>			<add>				<![CDATA[ 										$act = $method = $action->getMethod();															$act_to_clean = array('copy', 'delete');					if (in_array($act , $act_to_clean) OR ($act == 'update' AND count($_POST)) OR ($act == 'insert' AND count($_POST))) {						include_once DIR_CONFIG .'ssb_library/ssb_data.php';						$ssb_data = ssb_data::getInstance();						$ssb_data->clearCache();					}															if ($act == 'update' AND !count($_POST)) {						include_once DIR_CONFIG .'ssb_library/ssb_data.php';						$ssb_data = ssb_data::getInstance();						$ssb_setting = $ssb_data->getSetting();						if(!$ssb_setting){							include_once DIR_CONFIG .'ssb_library/ssb_table.php';							$ssb_table = ssb_table::getInstance();							$ssb_table->changeTables($ssb_data->getDBchange());							$default_data = $ssb_data->getDefault();							$ssb_data->setSetting($default_data);						}					}									]]>			</add>		</operation>	</file>		<file name="admin/model/catalog/manufacturer.php">		<operation error = "skip">		<search position="after"><![CDATA[ class ModelCatalogManufacturer extends Model { ]]></search>		<add><![CDATA[			public function getDescripManufacturer($manufacturer_id) {			$seodata = array();						$sql = "SELECT language_id, seo_title, seo_h1, meta_keyword, meta_description, description, tag FROM " . DB_PREFIX . "manufacturer_description WHERE manufacturer_id = '" . (int)$manufacturer_id . "'";						$query = $this->db->query($sql);			if(!count($query->rows)){return false;}						foreach ($query->rows as $result) {				$seodata[$result['language_id']] = array(					'description'		=> $result['description'],					'seo_title' 		=> $result['seo_title'],					'seo_h1' 			=> $result['seo_h1'],					'meta_keyword' 		=> $result['meta_keyword'],					'meta_description'	=> $result['meta_description'],					'tag'				=> $result['tag']				);			}						return $seodata;		}					public function setDescripManufacturer($manufacturer_id, $data = array(), $onlyEmpty = false) {						$this->load->model('localisation/language');			$languages = $this->model_localisation_language->getLanguages();						if($onlyEmpty){				$man_descrip = $this->getDescripManufacturer($manufacturer_id);								if($man_descrip){					foreach ($languages as $l_code => $l_val) {						$description = isset($man_descrip[$l_val['language_id']]['description']) ? $man_descrip[$l_val['language_id']]['description'] : '';													$seo_title = isset($man_descrip[$l_val['language_id']]['seo_title']) ? $man_descrip[$l_val['language_id']]['seo_title'] : '';												$seo_h1 = isset($man_descrip[$l_val['language_id']]['seo_h1']) ? $man_descrip[$l_val['language_id']]['seo_h1'] : '';												$meta_keyword = isset($man_descrip[$l_val['language_id']]['meta_keyword']) ? $man_descrip[$l_val['language_id']]['meta_keyword'] : '';												$meta_description = isset($man_descrip[$l_val['language_id']]['meta_description']) ? $man_descrip[$l_val['language_id']]['meta_description'] : '';												$tag = isset($man_descrip[$l_val['language_id']]['tag']) ? $man_descrip[$l_val['language_id']]['tag'] : '';					}				}			}			if(!count($data)){				$data = array();				foreach ($languages as $l_code => $l_val) {					$data[$l_val['language_id']] = array(						'description'		=> isset($description) ? $description : '',						'seo_title' 		=> isset($seo_title) ? $seo_title : '',						'seo_h1' 			=> isset($seo_h1) ? $seo_h1 : '',						'meta_keyword' 		=> isset($meta_keyword) ? $meta_keyword : '',						'meta_description'	=> isset($meta_description) ? $meta_description : '',						'tag'				=> isset($tag) ? $tag : ''						);				}			}					$this->delDescripManufacturer($manufacturer_id);			foreach($data as $language_id => $val){							$sql = "INSERT INTO " . DB_PREFIX . "manufacturer_description SET manufacturer_id = '" . (int)$manufacturer_id . "', language_id = '" . (int)$language_id . "', seo_title = '" . $this->db->escape($val['seo_title']) . "', seo_h1 = '" . $this->db->escape($val['seo_h1']) . "', meta_keyword = '" . $this->db->escape($val['meta_keyword']) . "', meta_description = '" . $this->db->escape($val['meta_description']) . "', description = '" . $this->db->escape($val['description']) . "', tag = '" . $this->db->escape($val['tag']) . "'";								$this->db->query($sql);			}			}				public function delDescripManufacturer($manufacturer_id) {			$this->db->query("DELETE FROM " . DB_PREFIX . "manufacturer_description WHERE manufacturer_id = '" . (int)$manufacturer_id . "'");		}						]]>			</add>		</operation>	</file>	<file name="admin/model/catalog/information.php">		<operation error = "skip">		<search position="after"><![CDATA[ class ModelCatalogInformation extends Model { ]]></search>		<add><![CDATA[			public function getDescripInfo($information_id) {			$seodata = array();						$sql = "SELECT language_id, seo_title, meta_keyword, meta_description, tag FROM " . DB_PREFIX . "information_description WHERE information_id = '" . (int)$information_id . "'";						$query = $this->db->query($sql);			foreach ($query->rows as $result) {				$seodata[$result['language_id']] = array(					'seo_title' 		=> $result['seo_title'],					'meta_keyword' 		=> $result['meta_keyword'],					'meta_description'	=> $result['meta_description'],					'tag'				=> $result['tag']				);			}						return $seodata;		}					public function setDescripInfo($information_id, $data = array()) {						if(!count($data)){				$this->load->model('localisation/language');				$languages = $this->model_localisation_language->getLanguages();				$data = array();				foreach ($languages as $l_code => $l_val) {					$data[$l_val['language_id']] = array(						'seo_title' 		=> '',						'meta_keyword' 		=> '',						'meta_description'	=> '',						'tag'				=> ''						);				}			}			foreach($data as $language_id => $val){							$query = $this->db->query("SELECT information_id FROM " . DB_PREFIX . "information_description WHERE information_id = '" . (int)$information_id . "' AND language_id = '". (int)$language_id ."';");								if(count($query->rows)){					$sql = "UPDATE " . DB_PREFIX . "information_description SET seo_title = '" . $this->db->escape($val['seo_title']) . "', meta_keyword = '" . $this->db->escape($val['meta_keyword']) . "', meta_description = '" . $this->db->escape($val['meta_description']) . "', tag = '" . $this->db->escape($val['tag']) . "'  WHERE information_id = '" . (int)$information_id . "' AND language_id = '". (int)$language_id ."'";				}else{					$sql = "INSERT INTO " . DB_PREFIX . "information_description SET information_id = '" . (int)$information_id . "', language_id = '" . (int)$language_id . "', seo_title = '" . $this->db->escape($val['seo_title']) . "', meta_keyword = '" . $this->db->escape($val['meta_keyword']) . "', meta_description = '" . $this->db->escape($val['meta_description']) . "', tag = '" . $this->db->escape($val['tag']) . "'";				}				$this->db->query($sql);			}		}						]]>			</add>		</operation>	</file>		<file name="admin/model/catalog/category.php">		<operation error = "skip">		<search position="after"><![CDATA[ class ModelCatalogCategory extends Model { ]]></search>		<add><![CDATA[			public function getDescripCategory($category_id) {			$seodata = array();						$sql = "SELECT language_id, tag, seo_title, seo_h1 FROM " . DB_PREFIX . "category_description WHERE category_id = '" . (int)$category_id . "'";						$query = $this->db->query($sql);			foreach ($query->rows as $result) {				$seodata[$result['language_id']] = array(					'seo_title' 		=> $result['seo_title'],					'seo_h1' 			=> $result['seo_h1'],					'tag'				=> $result['tag']				);			}						return $seodata;		}					public function setDescripCategory($category_id, $data = array()) {						if(!count($data)){				$this->load->model('localisation/language');				$languages = $this->model_localisation_language->getLanguages();				$data = array();				foreach ($languages as $l_code => $l_val) {					$data[$l_val['language_id']] = array(						'seo_title'			=> '',						'seo_h1'			=> '',						'tag'				=> ''						);				}			}			foreach($data as $language_id => $val){							$query = $this->db->query("SELECT category_id FROM " . DB_PREFIX . "category_description WHERE category_id = '" . (int)$category_id . "' AND language_id = '". (int)$language_id ."';");								if(count($query->rows)){					$sql = "UPDATE " . DB_PREFIX . "category_description SET tag = '" . $this->db->escape($val['tag']) . "', seo_title = '". $this->db->escape($val['seo_title']) ."', seo_h1 = '". $this->db->escape($val['seo_h1']) ."'  WHERE category_id = '" . (int)$category_id . "' AND language_id = '". (int)$language_id ."'";				}else{					$sql = "INSERT INTO " . DB_PREFIX . "category_description SET category_id = '". (int)$category_id ."', tag = '" . $this->db->escape($val['tag']) . "', seo_h1 = '" . $this->db->escape($val['seo_h1']) . "', seo_title = '". $this->db->escape($val['seo_title']) ."'";				}				$this->db->query($sql);			}		}						]]>			</add>		</operation>	</file>			<file name="admin/model/catalog/product.php">		<operation error = "skip">		<search position="after"><![CDATA[ class ModelCatalogProduct extends Model { ]]></search>		<add><![CDATA[			public function getDescripProduct($product_id) {			$seodata = array();						$sql = "SELECT language_id, seo_title, seo_h1 FROM " . DB_PREFIX . "product_description WHERE product_id = '" . (int)$product_id . "'";						$query = $this->db->query($sql);			foreach ($query->rows as $result) {				$seodata[$result['language_id']] = array(					'seo_title' 		=> $result['seo_title'],					'seo_h1' 			=> $result['seo_h1']				);			}						return $seodata;		}					public function setDescripProduct($product_id, $data = array()) {						if(!count($data)){				$this->load->model('localisation/language');				$languages = $this->model_localisation_language->getLanguages();				$data = array();				foreach ($languages as $l_code => $l_val) {					$data[$l_val['language_id']] = array(						'seo_title'			=> '',						'seo_h1'			=> ''					);				}			}			foreach($data as $language_id => $val){							$query = $this->db->query("SELECT product_id FROM " . DB_PREFIX . "product_description WHERE product_id = '" . (int)$product_id . "' AND language_id = '". (int)$language_id ."';");								if(count($query->rows)){					$sql = "UPDATE " . DB_PREFIX . "product_description SET seo_title = '". $this->db->escape($val['seo_title']) ."', seo_h1 = '". $this->db->escape($val['seo_h1']) ."'  WHERE product_id = '" . (int)$product_id . "' AND language_id = '". (int)$language_id ."'";				}else{					$sql = "INSERT INTO " . DB_PREFIX . "product_description SET product_id = '". (int)$product_id ."', seo_h1 = '". $this->db->escape($val['seo_h1']) ."', seo_title = '". $this->db->escape($val['seo_title']) ."'";				}				$this->db->query($sql);			}		}						]]>			</add>		</operation>	</file>						<file name="admin/model/catalog/product.php">		<operation error = "skip">		<search position="replace"><![CDATA[ (int)$product_id . "') ]]></search>		<add><![CDATA[						(int)$product_id . "' AND language_id = '" . (int)$this->config->get('config_language_id') . "')					]]>			</add>		</operation>	</file>	<file name="admin/model/catalog/category.php">		<operation error = "skip">		<search position="replace"><![CDATA[ (int)$category_id . "') ]]></search>		<add><![CDATA[						(int)$category_id . "' AND language_id = '" . (int)$this->config->get('config_language_id') . "')					]]>			</add>		</operation>	</file>	<file name="admin/model/catalog/manufacturer.php">		<operation error = "skip">		<search position="replace"><![CDATA[ (int)$manufacturer_id . "') ]]></search>		<add><![CDATA[						(int)$manufacturer_id . "' AND language_id = '" . (int)$this->config->get('config_language_id') . "')					]]>			</add>		</operation>	</file>		<file name="admin/model/catalog/information.php">		<operation error = "skip">		<search position="replace"><![CDATA[ (int)$information_id . "') ]]></search>		<add><![CDATA[						(int)$information_id . "' AND language_id = '" . (int)$this->config->get('config_language_id') . "')					]]>			</add>		</operation>	</file>			<file name="admin/view/template/common/header.tpl">		<operation>			<search position="after"><![CDATA[<li><a href="<?php echo $module; ?>"><?php echo $text_module; ?></a></li>]]></search>			<add><![CDATA[			<?php require_once DIR_CONFIG .'ssb_library/ssb_data.php';			$this->ssb_data = ssb_data::getInstance();			$tools = $this->ssb_data->getSetting('tools');			if($tools){ ?>			<li><a href="<?php echo $this->url->link('module/superseobox', 'token=' . $this->session->data['token'], 'SSL'); ?>">Paladin SEO Manager</a></li>			<?php } ?>			]]></add>		</operation>			</file>		<file name="admin/controller/common/home.php">		<operation>			<search position="after"><![CDATA[public function login() {]]></search>			<add><![CDATA[			$_SESSION["ssb_page_type"] = 'admin';			]]></add>		</operation>			</file>	</modification>