(function(){var h,g,l=[].slice;null==$.browser&&(g=navigator.userAgent||"",jQuery.uaMatch=function(a){a=a.toLowerCase();a=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}},g=jQuery.uaMatch(g),jQuery.browser={},g.browser&&(jQuery.browser[g.browser]=!0,jQuery.browser.version=g.version),jQuery.browser.webkit&&
(jQuery.browser.safari=!0));h=function(){function a(e,c){var b,d,f;this.elem=$(e);d=$.extend({},a.defaults,c);for(b in d)f=d[b],this[b]=f;this.elem.data(this.dataName,this);this.wrapCheckboxWithDivs();this.attachEvents();this.disableTextSelection();this.calculateDimensions(d.width)}a.prototype.calculateDimensions=function(a){a=a?a:"";this.resizeHandle&&this.optionallyResize("handle",a);this.resizeContainer&&this.optionallyResize("container",a);return this.initialPosition()};a.prototype.isDisabled=
function(){return this.elem.is(":disabled")};a.prototype.wrapCheckboxWithDivs=function(){this.elem.wrap("<div class='"+this.containerClass+"' />");this.container=this.elem.parent();this.offLabel=$("<label class='"+this.labelOffClass+"'>\n  <span>"+this.uncheckedLabel+"</span>\n</label>").appendTo(this.container);this.offSpan=this.offLabel.children("span");this.onLabel=$("<label class='"+this.labelOnClass+"'>\n  <span>"+this.checkedLabel+"</span>\n</label>").appendTo(this.container);this.onSpan=this.onLabel.children("span");
return this.handle=$("<div class='"+this.handleClass+"'>\n  <div class='"+this.handleRightClass+"'>\n    <div class='"+this.handleCenterClass+"' />\n  </div>\n</div>").appendTo(this.container)};a.prototype.disableTextSelection=function(){if($.browser.msie)return $([this.handle,this.offLabel,this.onLabel,this.container]).attr("unselectable","on")};a.prototype._getDimension=function(a,c){return null!=$.fn.actual?a.actual(c):a[c]()};a.prototype.optionallyResize=function(a,c){var b,d,f;d=this.onLabel.find("span");
b=this._getDimension(d,"width");b+=parseInt(d.css("padding-left"),10);b=c?c:b;f=this.offLabel.find("span");d=this._getDimension(f,"width");d+=parseInt(f.css("padding-right"),10);d=c?c:d;return"container"===a?(b=(b>d?b:d)+(this._getDimension(this.handle,"width")+this.handleMargin),this.container.css({width:b})):this.handle.css({width:b>d?b:d})};a.prototype.onMouseDown=function(e){e.preventDefault();if(!this.isDisabled())return e=e.pageX||e.originalEvent.changedTouches[0].pageX,a.currentlyClicking=
this.handle,a.dragStartPosition=e,a.handleLeftOffset=parseInt(this.handle.css("left"),10)||0};a.prototype.onDragMove=function(e,c){var b,d;if(a.currentlyClicking===this.handle)return d=(c+a.handleLeftOffset-a.dragStartPosition)/this.rightSide,0>d&&(d=0),1<d&&(d=1),b=d*this.rightSide,this.handle.css({left:b}),this.onLabel.css({width:b+this.handleRadius}),this.offSpan.css({marginRight:-b}),this.onSpan.css({marginLeft:-(1-d)*this.rightSide})};a.prototype.onDragEnd=function(e,c){var b;if(a.currentlyClicking===
this.handle&&!this.isDisabled())return a.dragging?(b=(c-a.dragStartPosition)/this.rightSide,this.elem.prop("checked",0.5<=b)):this.elem.prop("checked",!this.elem.prop("checked")),a.currentlyClicking=null,a.dragging=null,this.didChange()};a.prototype.refresh=function(){return this.didChange()};a.prototype.didChange=function(){var a;if("function"===typeof this.onChange)this.onChange(this.elem,this.elem.prop("checked"));if(this.isDisabled())return this.container.addClass(this.disabledClass),!1;this.container.removeClass(this.disabledClass);
a=this.elem.prop("checked")?this.rightSide:0;this.handle.animate({left:a},this.duration);this.onLabel.animate({width:a+this.handleRadius},this.duration);this.offSpan.animate({marginRight:-a},this.duration);return this.onSpan.animate({marginLeft:a-this.rightSide},this.duration)};a.prototype.attachEvents=function(){var a,c,b;b=this;a=function(a){return b.onGlobalMove.apply(b,arguments)};c=function(d){b.onGlobalUp.apply(b,arguments);$(document).unbind("mousemove touchmove",a);return $(document).unbind("mouseup touchend",
c)};this.elem.change(function(){return b.refresh()});return this.container.bind("mousedown touchstart",function(d){b.onMouseDown.apply(b,arguments);$(document).bind("mousemove touchmove",a);return $(document).bind("mouseup touchend",c)})};a.prototype.initialPosition=function(){var a,c;a=this._getDimension(this.container,"width");this.offLabel.css({width:a-this.containerRadius});c=this.containerRadius+1;$.browser.msie&&7>$.browser.version&&(c-=3);this.rightSide=a-this._getDimension(this.handle,"width")-
c;this.elem.is(":checked")?(this.handle.css({left:this.rightSide}),this.onLabel.css({width:this.rightSide+this.handleRadius}),this.offSpan.css({marginRight:-this.rightSide})):(this.onLabel.css({width:0}),this.onSpan.css({marginLeft:-this.rightSide}));if(this.isDisabled())return this.container.addClass(this.disabledClass)};a.prototype.onGlobalMove=function(e){var c;if(!this.isDisabled()&&a.currentlyClicking)return e.preventDefault(),c=e.pageX||e.originalEvent.changedTouches[0].pageX,!a.dragging&&Math.abs(a.dragStartPosition-
c)>this.dragThreshold&&(a.dragging=!0),this.onDragMove(e,c)};a.prototype.onGlobalUp=function(e){var c;if(a.currentlyClicking)return e.preventDefault(),c=e.pageX||e.originalEvent.changedTouches[0].pageX,this.onDragEnd(e,c),!1};a.defaults={duration:200,checkedLabel:"ON",uncheckedLabel:"OFF",resizeHandle:!0,resizeContainer:!0,disabledClass:"iPhoneCheckDisabled",containerClass:"iPhoneCheckContainer",labelOnClass:"iPhoneCheckLabelOn",labelOffClass:"iPhoneCheckLabelOff",handleClass:"iPhoneCheckHandle",
handleCenterClass:"iPhoneCheckHandleCenter",handleRightClass:"iPhoneCheckHandleRight",dragThreshold:5,handleMargin:15,handleRadius:4,containerRadius:5,dataName:"iphoneStyle",onChange:function(){}};return a}();$.iphoneStyle=this.iOSCheckbox=h;$.fn.iphoneStyle=function(){var a,e,c,b,d,f,g,k,m;a=1<=arguments.length?l.call(arguments,0):[];c=null!=(b=null!=(f=a[0])?f.dataName:void 0)?b:h.defaults.dataName;k=this.filter(":checkbox");f=0;for(g=k.length;f<g;f++)e=k[f],b=$(e).data(c),null!=b?(e=a[0],d=2<=
a.length?l.call(a,1):[],null!=(m=b[e])&&m.apply(b,d)):new h(e,a[0]);return this};$.fn.iOSCheckbox=function(a){null==a&&(a={});a=$.extend({},a,{resizeHandle:!1,disabledClass:"iOSCheckDisabled",containerClass:"iOSCheckContainer",labelOnClass:"iOSCheckLabelOn",labelOffClass:"iOSCheckLabelOff",handleClass:"iOSCheckHandle",handleCenterClass:"iOSCheckHandleCenter",handleRightClass:"iOSCheckHandleRight",dataName:"iOSCheckbox"});return this.iphoneStyle(a)}}).call(this);